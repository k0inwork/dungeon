
# FEATURE GAP ANALYSIS (v1.8)

> **Status:** DISCREPANCY DETECTED
> **Focus:** Gameplay Completeness & Battle Mechanics

## 1. THE COMBAT DISCONNECT
**Observation:** Player collision with enemies triggers a generic "Attack" command, but the PC does not appear to deal damage in some states, and lacks voluntary skill usage.
**Root Cause:**
1.  **Hardcoded Logic:** `BattleKernel` uses a fixed `atk - def` formula instead of executing the rich scripts generated by the AI (e.g., "Fireball", "Stun").
2.  **Trigger Limbo:** The PC only attacks on *collision*. There is no way to press 'Space' to use a ranged skill or 'H' to heal.

**Correction Plan:**
*   **Skill Registry:** Implement a dispatch table in `BattleKernel` to map `SkillID` to `Script`.
*   **Voluntary Action:** Map `Spacebar` to `CMD_USE_SKILL` in `PlayerKernel`.

## 2. THE VOID INVENTORY
**Observation:** Items exist in the Lore and Generation JSON, but not in the Physics Engine.
**Gap:**
*   `GridKernel`: No concept of "Item on Ground" (Passable but Interactive).
*   `PlayerKernel`: No memory allocated for `Inventory[]`.

**Correction Plan:**
*   **Ground Items:** Treat items as Entities with `Type = ITEM (3)`. They do not block movement (`Collision=0`), but trigger `EVT_TOUCH` when overlapped.
*   **Player Inventory:** Allocate a 10-slot integer array in `PlayerKernel` memory to store Item IDs.

## 3. ACTIVE SKILLS
**Observation:** The AI generates cool skills ("Chain Lightning"), but they are never loaded.
**Gap:** The Transpiler compiles them, but they are not injected into the `BattleKernel` runtime.
**Correction Plan:**
*   Define `EXECUTE_SKILL ( source target skill_id -- )` in Battle Kernel.
*   For v1.0, hardcode 3 standard skills (Melee, Ranged, Heal) that act as templates.

